#include <stdio.h>
#include <string.h>

char* happyLadybugs(char* b) {
    int freq[26] = {0};
    int n = strlen(b);
    int hasEmpty = 0;

    // Count frequency and check empties
    for (int i = 0; i < n; i++) {
        if (b[i] == '_') {
            hasEmpty = 1;
        } else {
            freq[b[i] - 'A']++;
        }
    }

    // If no empty space, check current happiness
    if (!hasEmpty) {
        for (int i = 0; i < n; i++) {
            if (!((i > 0 && b[i] == b[i - 1]) || 
                  (i < n - 1 && b[i] == b[i + 1]))) {
                return "NO";
            }
        }
        return "YES";
    }

    // If empty spaces exist, check for any single bug
    for (int i = 0; i < 26; i++) {
        if (freq[i] == 1)
            return "NO";
    }

    return "YES";
}

int main() {
    int g;
    scanf("%d", &g);

    while (g--) {
        int n;
        scanf("%d", &n);

        char b[105];
        scanf("%s", b);

        printf("%s\n", happyLadybugs(b));
    }

    return 0;
}
